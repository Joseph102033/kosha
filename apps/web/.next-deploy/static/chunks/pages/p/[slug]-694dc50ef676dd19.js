(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[488],{3472:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(7876),r=t(7328),l=t.n(r),c=t(8230),i=t.n(c),n=t(4232),d=t(9099);function o(){let{slug:e}=(0,d.useRouter)().query,[s,t]=(0,n.useState)("summary"),[r,c]=(0,n.useState)(null),[o,x]=(0,n.useState)(!0),[m,h]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{let s=e;if(!s){let e=window.location.pathname.match(/\/p\/([^\/]+)/);e&&(s=e[1])}s&&(async()=>{try{x(!0);let e=await fetch("".concat("http://localhost:8787","/api/ops/").concat(s));if(!e.ok)return void h(!0);let t=await e.json();if(!t.success||!t.data)return void h(!0);c(t.data)}catch(e){console.error("Error fetching OPS data:",e),h(!0)}finally{x(!1)}})()},[e]),o)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"Loading... | Safe OPS Studio"})}),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,a.jsx)("p",{className:"text-xl text-gray-600",children:"Loading OPS Document..."})]})})]});if(m||!r)return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"OPS Not Found | Safe OPS Studio"})}),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),(0,a.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"OPS Document Not Found"}),(0,a.jsx)(i(),{href:"/",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-block",children:"Go Home"})]})})]});let{title:u,incidentDate:b,location:p,opsDocument:j}=r,g=new Date(b).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{children:[(0,a.jsxs)("title",{children:[u," | Safe OPS Studio"]}),(0,a.jsx)("meta",{name:"description",content:j.summary.substring(0,160)}),(0,a.jsx)("meta",{property:"og:title",content:u}),(0,a.jsx)("meta",{property:"og:description",content:j.summary.substring(0,160)}),(0,a.jsx)("meta",{property:"og:type",content:"article"})]}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white border-b border-gray-200",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,a.jsx)(i(),{href:"/",className:"text-sm text-blue-600 hover:text-blue-700 mb-4 inline-block",children:"← Back to Home"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:u}),(0,a.jsxs)("div",{className:"flex gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["\uD83D\uDCC5 ",g]}),(0,a.jsxs)("span",{children:["\uD83D\uDCCD ",p]})]})]})}),(0,a.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,a.jsx)("nav",{className:"flex -mb-px space-x-4",children:["summary","causes","checklist","laws"].map(e=>(0,a.jsxs)("button",{onClick:()=>t(e),className:"py-2 px-3 text-sm font-medium border-b-2 transition-colors ".concat(s===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["summary"===e&&"요약","causes"===e&&"원인 분석","checklist"===e&&"재발방지 체크리스트","laws"===e&&"관련 법령"]},e))})}),(0,a.jsxs)("div",{className:"prose prose-sm max-w-none",children:["summary"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"사고 개요"}),(0,a.jsx)("p",{className:"whitespace-pre-line text-gray-700",children:j.summary})]}),"causes"===s&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"직접 원인"}),(0,a.jsx)("ul",{className:"list-disc list-inside space-y-2",children:j.causes.direct.map((e,s)=>(0,a.jsx)("li",{className:"text-gray-700",children:e},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"간접 원인"}),(0,a.jsx)("ul",{className:"list-disc list-inside space-y-2",children:j.causes.indirect.map((e,s)=>(0,a.jsx)("li",{className:"text-gray-700",children:e},s))})]})]}),"checklist"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"재발방지 체크리스트"}),(0,a.jsx)("ul",{className:"space-y-3",children:j.checklist.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("input",{type:"checkbox",className:"mt-1",id:"check-".concat(s)}),(0,a.jsx)("label",{htmlFor:"check-".concat(s),className:"text-gray-700 cursor-pointer",children:e})]},s))})]}),"laws"===s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"관련 법령 및 규정"}),(0,a.jsx)("ul",{className:"space-y-3",children:j.laws.map((e,s)=>(0,a.jsx)("li",{className:"border-l-4 border-blue-500 pl-4 py-2",children:(0,a.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 hover:underline font-medium",children:[e.title," →"]})},s))})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"문서 내보내기"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>window.print(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"\uD83D\uDDA8️ 인쇄하기"}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("링크가 복사되었습니다!")},className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"\uD83D\uDD17 링크 복사"})]})]})]}),(0,a.jsx)("footer",{className:"border-t border-gray-200 py-8 mt-12",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 text-center text-gray-600",children:(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Safe OPS Studio. All rights reserved."]})})})]})]})}},8524:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/p/[slug]",function(){return t(3472)}])},9099:(e,s,t)=>{e.exports=t(6296)}},e=>{e.O(0,[695,636,593,792],()=>e(e.s=8524)),_N_E=e.O()}]);